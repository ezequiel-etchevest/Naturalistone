{"version":3,"names":["h","UIPlugin","packageJson","ProgressBar","constructor","uppy","opts","id","title","type","defaultOptions","target","fixed","hideAfterFinish","render","bind","state","progress","totalProgress","isHidden","className","style","position","width","install","mount","uninstall","unmount","VERSION","version"],"sources":["ProgressBar.jsx"],"sourcesContent":["import { h } from 'preact'\nimport { UIPlugin } from '@uppy/core'\n\nimport packageJson from '../package.json'\n\n/**\n * Progress bar\n *\n */\nexport default class ProgressBar extends UIPlugin {\n  static VERSION = packageJson.version\n\n  constructor (uppy, opts) {\n    super(uppy, opts)\n    this.id = this.opts.id || 'ProgressBar'\n    this.title = 'Progress Bar'\n    this.type = 'progressindicator'\n\n    // set default options, must kept in sync with @uppy/react/src/ProgressBar.js\n    const defaultOptions = {\n      target: 'body',\n      fixed: false,\n      hideAfterFinish: true,\n    }\n\n    // merge default options with the ones set by user\n    this.opts = { ...defaultOptions, ...opts }\n\n    this.render = this.render.bind(this)\n  }\n\n  render (state) {\n    const progress = state.totalProgress || 0\n    // before starting and after finish should be hidden if specified in the options\n    const isHidden = (progress === 0 || progress === 100) && this.opts.hideAfterFinish\n    return (\n      <div\n        className=\"uppy uppy-ProgressBar\"\n        style={{ position: this.opts.fixed ? 'fixed' : 'initial' }}\n        aria-hidden={isHidden}\n      >\n        <div className=\"uppy-ProgressBar-inner\" style={{ width: `${progress}%` }} />\n        <div className=\"uppy-ProgressBar-percentage\">{progress}</div>\n      </div>\n    )\n  }\n\n  install () {\n    const { target } = this.opts\n    if (target) {\n      this.mount(target, this)\n    }\n  }\n\n  uninstall () {\n    this.unmount()\n  }\n}\n"],"mappings":"AAAA,SAASA,CAAC,QAAQ,QAAQ;AAC1B,SAASC,QAAQ,QAAQ,YAAY;AAAA,MAE9BC,WAAW;EAAA;AAAA;AAElB;AACA;AACA;AACA;AACA,eAAe,MAAMC,WAAW,SAASF,QAAQ,CAAC;EAGhDG,WAAWA,CAAEC,IAAI,EAAEC,IAAI,EAAE;IACvB,KAAK,CAACD,IAAI,EAAEC,IAAI,CAAC;IACjB,IAAI,CAACC,EAAE,GAAG,IAAI,CAACD,IAAI,CAACC,EAAE,IAAI,aAAa;IACvC,IAAI,CAACC,KAAK,GAAG,cAAc;IAC3B,IAAI,CAACC,IAAI,GAAG,mBAAmB;;IAE/B;IACA,MAAMC,cAAc,GAAG;MACrBC,MAAM,EAAE,MAAM;MACdC,KAAK,EAAE,KAAK;MACZC,eAAe,EAAE;IACnB,CAAC;;IAED;IACA,IAAI,CAACP,IAAI,GAAG;MAAE,GAAGI,cAAc;MAAE,GAAGJ;IAAK,CAAC;IAE1C,IAAI,CAACQ,MAAM,GAAG,IAAI,CAACA,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC;EACtC;EAEAD,MAAMA,CAAEE,KAAK,EAAE;IACb,MAAMC,QAAQ,GAAGD,KAAK,CAACE,aAAa,IAAI,CAAC;IACzC;IACA,MAAMC,QAAQ,GAAG,CAACF,QAAQ,KAAK,CAAC,IAAIA,QAAQ,KAAK,GAAG,KAAK,IAAI,CAACX,IAAI,CAACO,eAAe;IAClF,OACEb,CAAA;MACEoB,SAAS,EAAC,uBAAuB;MACjCC,KAAK,EAAE;QAAEC,QAAQ,EAAE,IAAI,CAAChB,IAAI,CAACM,KAAK,GAAG,OAAO,GAAG;MAAU,CAAE;MAC3D,eAAaO;IAAS,GAEtBnB,CAAA;MAAKoB,SAAS,EAAC,wBAAwB;MAACC,KAAK,EAAE;QAAEE,KAAK,EAAG,GAAEN,QAAS;MAAG;IAAE,CAAE,CAAC,EAC5EjB,CAAA;MAAKoB,SAAS,EAAC;IAA6B,GAAEH,QAAc,CACzD,CAAC;EAEV;EAEAO,OAAOA,CAAA,EAAI;IACT,MAAM;MAAEb;IAAO,CAAC,GAAG,IAAI,CAACL,IAAI;IAC5B,IAAIK,MAAM,EAAE;MACV,IAAI,CAACc,KAAK,CAACd,MAAM,EAAE,IAAI,CAAC;IAC1B;EACF;EAEAe,SAASA,CAAA,EAAI;IACX,IAAI,CAACC,OAAO,CAAC,CAAC;EAChB;AACF;AAhDqBxB,WAAW,CACvByB,OAAO,GAAG1B,WAAW,CAAC2B,OAAO"}