{"version":3,"names":["createElement","h","Component","DashboardPlugin","dashboard","basePropTypes","getHTMLProps","nonHtmlPropsHaveChanged","Dashboard","componentDidMount","installPlugin","componentDidUpdate","prevProps","uppy","props","uninstallPlugin","options","target","container","plugin","setOptions","componentWillUnmount","id","use","getPlugin","removePlugin","render","className","ref","propTypes","defaultProps","inline"],"sources":["Dashboard.js"],"sourcesContent":["import { createElement as h, Component } from 'react'\nimport DashboardPlugin from '@uppy/dashboard'\nimport { dashboard as basePropTypes } from './propTypes.js'\nimport getHTMLProps from './getHTMLProps.js'\nimport nonHtmlPropsHaveChanged from './nonHtmlPropsHaveChanged.js'\n\n/**\n * React Component that renders a Dashboard for an Uppy instance. This component\n * renders the Dashboard inline, so you can put it anywhere you want.\n */\n\nclass Dashboard extends Component {\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    // eslint-disable-next-line react/destructuring-assignment\n    if (prevProps.uppy !== this.props.uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    } else if (nonHtmlPropsHaveChanged(this.props, prevProps)) {\n      const options = { ...this.props, target: this.container }\n      delete options.uppy\n      this.plugin.setOptions(options)\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const { uppy } = this.props\n    const options = {\n      id: 'react:Dashboard',\n      ...this.props,\n      target: this.container,\n    }\n    delete options.uppy\n    uppy.use(DashboardPlugin, options)\n\n    this.plugin = uppy.getPlugin(options.id)\n  }\n\n  uninstallPlugin (props = this.props) {\n    const { uppy } = props\n\n    uppy.removePlugin(this.plugin)\n  }\n\n  render () {\n    return h('div', {\n      className: 'uppy-Container',\n      ref: (container) => {\n        this.container = container\n      },\n      ...getHTMLProps(this.props),\n    })\n  }\n}\n\nDashboard.propTypes = basePropTypes\n\nDashboard.defaultProps = {\n  inline: true,\n}\n\nexport default Dashboard\n"],"mappings":"AAAA,SAASA,aAAa,IAAIC,CAAC,EAAEC,SAAS,QAAQ,OAAO;AACrD,OAAOC,eAAe,MAAM,iBAAiB;AAC7C,SAASC,SAAS,IAAIC,aAAa,QAAQ,gBAAgB;AAC3D,OAAOC,YAAY,MAAM,mBAAmB;AAC5C,OAAOC,uBAAuB,MAAM,8BAA8B;;AAElE;AACA;AACA;AACA;;AAEA,MAAMC,SAAS,SAASN,SAAS,CAAC;EAChCO,iBAAiBA,CAAA,EAAI;IACnB,IAAI,CAACC,aAAa,CAAC,CAAC;EACtB;EAEAC,kBAAkBA,CAAEC,SAAS,EAAE;IAC7B;IACA,IAAIA,SAAS,CAACC,IAAI,KAAK,IAAI,CAACC,KAAK,CAACD,IAAI,EAAE;MACtC,IAAI,CAACE,eAAe,CAACH,SAAS,CAAC;MAC/B,IAAI,CAACF,aAAa,CAAC,CAAC;IACtB,CAAC,MAAM,IAAIH,uBAAuB,CAAC,IAAI,CAACO,KAAK,EAAEF,SAAS,CAAC,EAAE;MACzD,MAAMI,OAAO,GAAG;QAAE,GAAG,IAAI,CAACF,KAAK;QAAEG,MAAM,EAAE,IAAI,CAACC;MAAU,CAAC;MACzD,OAAOF,OAAO,CAACH,IAAI;MACnB,IAAI,CAACM,MAAM,CAACC,UAAU,CAACJ,OAAO,CAAC;IACjC;EACF;EAEAK,oBAAoBA,CAAA,EAAI;IACtB,IAAI,CAACN,eAAe,CAAC,CAAC;EACxB;EAEAL,aAAaA,CAAA,EAAI;IACf,MAAM;MAAEG;IAAK,CAAC,GAAG,IAAI,CAACC,KAAK;IAC3B,MAAME,OAAO,GAAG;MACdM,EAAE,EAAE,iBAAiB;MACrB,GAAG,IAAI,CAACR,KAAK;MACbG,MAAM,EAAE,IAAI,CAACC;IACf,CAAC;IACD,OAAOF,OAAO,CAACH,IAAI;IACnBA,IAAI,CAACU,GAAG,CAACpB,eAAe,EAAEa,OAAO,CAAC;IAElC,IAAI,CAACG,MAAM,GAAGN,IAAI,CAACW,SAAS,CAACR,OAAO,CAACM,EAAE,CAAC;EAC1C;EAEAP,eAAeA,CAAED,KAAK,EAAe;IAAA,IAApBA,KAAK;MAALA,KAAK,GAAG,IAAI,CAACA,KAAK;IAAA;IACjC,MAAM;MAAED;IAAK,CAAC,GAAGC,KAAK;IAEtBD,IAAI,CAACY,YAAY,CAAC,IAAI,CAACN,MAAM,CAAC;EAChC;EAEAO,MAAMA,CAAA,EAAI;IACR,OAAOzB,CAAC,CAAC,KAAK,EAAE;MACd0B,SAAS,EAAE,gBAAgB;MAC3BC,GAAG,EAAGV,SAAS,IAAK;QAClB,IAAI,CAACA,SAAS,GAAGA,SAAS;MAC5B,CAAC;MACD,GAAGZ,YAAY,CAAC,IAAI,CAACQ,KAAK;IAC5B,CAAC,CAAC;EACJ;AACF;AAEAN,SAAS,CAACqB,SAAS,GAAGxB,aAAa;AAEnCG,SAAS,CAACsB,YAAY,GAAG;EACvBC,MAAM,EAAE;AACV,CAAC;AAED,eAAevB,SAAS"}