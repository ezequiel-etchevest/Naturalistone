{"version":3,"names":["h","Component","Fragment","_Symbol$for","Symbol","for","AddFiles","constructor","arguments","triggerFileInputClick","fileInput","click","triggerFolderInputClick","folderInput","triggerVideoCameraInputClick","mobileVideoFileInput","triggerPhotoCameraInputClick","mobilePhotoFileInput","onFileInputChange","event","props","handleInputChange","target","value","renderHiddenInput","isFolder","refCallback","className","hidden","tabIndex","webkitdirectory","type","name","multiple","maxNumberOfFiles","onChange","accept","allowedFileTypes","ref","renderHiddenCameraInput","nativeCameraFacingMode","typeToAccept","photo","video","capture","renderMyDeviceAcquirer","role","onClick","focusable","width","height","viewBox","d","fill","i18n","renderPhotoCamera","renderVideoCamera","fillRule","renderBrowseButton","text","onClickFn","numberOfAcquirers","acquirers","length","renderDropPasteBrowseTagline","browseFiles","browseFolders","lowerFMSelectionType","fileManagerSelectionType","camelFMSelectionType","charAt","toUpperCase","slice","class","disableLocalFiles","i18nArray","browse","renderAcquirer","acquirer","id","activePickerPanel","showPanel","icon","renderAcquirers","acquirersWithoutLastTwo","lastTwoAcquirers","splice","map","style","renderSourcesList","showNativePhotoCameraButton","showNativeVideoCameraButton","list","myDeviceKey","push","key","elements","hasOnlyMyDevice","listWithoutLastTwo","lastTwo","renderList","l","_ref","renderPoweredByUppy","uppyBranding","linkText","uppy","href","rel","render","note","proudlyDisplayPoweredByUppy"],"sources":["AddFiles.jsx"],"sourcesContent":["import { h, Component, Fragment } from 'preact'\n\nclass AddFiles extends Component {\n  triggerFileInputClick = () => {\n    this.fileInput.click()\n  }\n\n  triggerFolderInputClick = () => {\n    this.folderInput.click()\n  }\n\n  triggerVideoCameraInputClick = () => {\n    this.mobileVideoFileInput.click()\n  }\n\n  triggerPhotoCameraInputClick = () => {\n    this.mobilePhotoFileInput.click()\n  }\n\n  onFileInputChange = (event) => {\n    this.props.handleInputChange(event)\n\n    // We clear the input after a file is selected, because otherwise\n    // change event is not fired in Chrome and Safari when a file\n    // with the same name is selected.\n    // ___Why not use value=\"\" on <input/> instead?\n    //    Because if we use that method of clearing the input,\n    //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n    event.target.value = null // eslint-disable-line no-param-reassign\n  }\n\n  renderHiddenInput = (isFolder, refCallback) => {\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        webkitdirectory={isFolder}\n        type=\"file\"\n        name=\"files[]\"\n        multiple={this.props.maxNumberOfFiles !== 1}\n        onChange={this.onFileInputChange}\n        accept={this.props.allowedFileTypes}\n        ref={refCallback}\n      />\n    )\n  }\n\n  renderHiddenCameraInput = (type, nativeCameraFacingMode, refCallback) => {\n    const typeToAccept = { photo: 'image/*', video: 'video/*' }\n    const accept = typeToAccept[type]\n\n    return (\n      <input\n        className=\"uppy-Dashboard-input\"\n        hidden\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        type=\"file\"\n        name={`camera-${type}`}\n        onChange={this.onFileInputChange}\n        capture={nativeCameraFacingMode}\n        accept={accept}\n        ref={refCallback}\n      />\n    )\n  }\n\n  renderMyDeviceAcquirer = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MyDevice\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerFileInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg className=\"uppy-DashboardTab-iconMyDevice\" aria-hidden=\"true\" focusable=\"false\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n              <path d=\"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z\" fill=\"currentcolor\" fill-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('myDevice')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderPhotoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobilePhotoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerPhotoCameraInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg aria-hidden=\"true\" focusable=\"false\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n              <path d=\"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z\" fill=\"#02B383\" fill-rule=\"nonzero\" />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('takePictureBtn')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderVideoCamera = () => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id=\"MobileVideoCamera\"\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-uppy-super-focusable\n          onClick={this.triggerVideoCameraInputClick}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            <svg aria-hidden=\"true\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n              <path fill=\"#FF675E\" fillRule=\"nonzero\" d=\"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z \" />\n            </svg>\n          </div>\n          <div className=\"uppy-DashboardTab-name\">{this.props.i18n('recordVideoBtn')}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderBrowseButton = (text, onClickFn) => {\n    const numberOfAcquirers = this.props.acquirers.length\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn uppy-Dashboard-browse\"\n        onClick={onClickFn}\n        data-uppy-super-focusable={numberOfAcquirers === 0}\n      >\n        {text}\n      </button>\n    )\n  }\n\n  renderDropPasteBrowseTagline = (numberOfAcquirers) => {\n    const browseFiles = this.renderBrowseButton(this.props.i18n('browseFiles'), this.triggerFileInputClick)\n    const browseFolders = this.renderBrowseButton(this.props.i18n('browseFolders'), this.triggerFolderInputClick)\n\n    // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n    // to Camel\n    const lowerFMSelectionType = this.props.fileManagerSelectionType\n    const camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1)\n\n    return (\n      <div class=\"uppy-Dashboard-AddFiles-title\">\n        {\n          // eslint-disable-next-line no-nested-ternary\n          this.props.disableLocalFiles ? this.props.i18n('importFiles')\n            : numberOfAcquirers > 0\n              ? this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, { browseFiles, browseFolders, browse: browseFiles })\n              : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, { browseFiles, browseFolders, browse: browseFiles })\n        }\n      </div>\n    )\n  }\n\n  [Symbol.for('uppy test: disable unused locale key warning')] () {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth')\n    this.props.i18nArray('dropPasteFiles')\n    this.props.i18nArray('dropPasteFolders')\n    this.props.i18nArray('dropPasteImportBoth')\n    this.props.i18nArray('dropPasteImportFiles')\n    this.props.i18nArray('dropPasteImportFolders')\n  }\n\n  renderAcquirer = (acquirer) => {\n    return (\n      <div\n        className=\"uppy-DashboardTab\"\n        role=\"presentation\"\n        data-uppy-acquirer-id={acquirer.id}\n      >\n        <button\n          type=\"button\"\n          className=\"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\"\n          role=\"tab\"\n          tabIndex={0}\n          data-cy={acquirer.id}\n          aria-controls={`uppy-DashboardContent-panel--${acquirer.id}`}\n          aria-selected={this.props.activePickerPanel.id === acquirer.id}\n          data-uppy-super-focusable\n          onClick={() => this.props.showPanel(acquirer.id)}\n        >\n          <div className=\"uppy-DashboardTab-inner\">\n            {acquirer.icon()}\n          </div>\n          <div className=\"uppy-DashboardTab-name\">{acquirer.name}</div>\n        </button>\n      </div>\n    )\n  }\n\n  renderAcquirers = (acquirers) => {\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const acquirersWithoutLastTwo = [...acquirers]\n    const lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length)\n\n    return (\n      <Fragment>\n        {acquirersWithoutLastTwo.map((acquirer) => this.renderAcquirer(acquirer))}\n        <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n          {lastTwoAcquirers.map((acquirer) => this.renderAcquirer(acquirer))}\n        </span>\n      </Fragment>\n    )\n  }\n\n  renderSourcesList = (acquirers, disableLocalFiles) => {\n    const { showNativePhotoCameraButton, showNativeVideoCameraButton } = this.props\n\n    let list = []\n\n    const myDeviceKey = 'myDevice'\n\n    if (!disableLocalFiles) {\n      list.push({ key: myDeviceKey, elements: this.renderMyDeviceAcquirer() })\n      if (showNativePhotoCameraButton) list.push({ key: 'nativePhotoCameraButton', elements: this.renderPhotoCamera() })\n      if (showNativeVideoCameraButton) list.push({ key: 'nativePhotoCameraButton', elements: this.renderVideoCamera() })\n    }\n    list.push(...acquirers.map((acquirer) => ({ key: acquirer.id, elements: this.renderAcquirer(acquirer) })))\n\n    // doesn't make sense to show only a lonely \"My Device\"\n    const hasOnlyMyDevice = list.length === 1 && list[0].key === myDeviceKey\n    if (hasOnlyMyDevice) list = []\n\n    // Group last two buttons, so we don’t end up with\n    // just one button on a new line\n    const listWithoutLastTwo = [...list]\n    const lastTwo = listWithoutLastTwo.splice(list.length - 2, list.length)\n\n    const renderList = (l) => l.map(({ key, elements }) => <Fragment key={key}>{elements}</Fragment>)\n\n    return (\n      <Fragment>\n        {this.renderDropPasteBrowseTagline(list.length)}\n\n        <div className=\"uppy-Dashboard-AddFiles-list\" role=\"tablist\">\n          {renderList(listWithoutLastTwo)}\n\n          <span role=\"presentation\" style={{ 'white-space': 'nowrap' }}>\n            {renderList(lastTwo)}\n          </span>\n        </div>\n      </Fragment>\n    )\n  }\n\n  renderPoweredByUppy () {\n    const { i18nArray } = this.props\n\n    const uppyBranding = (\n      <span>\n        <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon uppy-Dashboard-poweredByIcon\" width=\"11\" height=\"11\" viewBox=\"0 0 11 11\">\n          <path d=\"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\" fillRule=\"evenodd\" />\n        </svg>\n        <span className=\"uppy-Dashboard-poweredByUppy\">Uppy</span>\n      </span>\n    )\n\n    const linkText = i18nArray('poweredBy', { uppy: uppyBranding })\n\n    return (\n      <a\n        tabIndex=\"-1\"\n        href=\"https://uppy.io\"\n        rel=\"noreferrer noopener\"\n        target=\"_blank\"\n        className=\"uppy-Dashboard-poweredBy\"\n      >\n        {linkText}\n      </a>\n    )\n  }\n\n  render () {\n    const {\n      showNativePhotoCameraButton,\n      showNativeVideoCameraButton,\n      nativeCameraFacingMode,\n    } = this.props\n\n    return (\n      <div className=\"uppy-Dashboard-AddFiles\">\n        {this.renderHiddenInput(false, (ref) => { this.fileInput = ref })}\n        {this.renderHiddenInput(true, (ref) => { this.folderInput = ref })}\n        {showNativePhotoCameraButton && this.renderHiddenCameraInput('photo', nativeCameraFacingMode, (ref) => { this.mobilePhotoFileInput = ref })}\n        {showNativeVideoCameraButton && this.renderHiddenCameraInput('video', nativeCameraFacingMode, (ref) => { this.mobileVideoFileInput = ref })}\n        {this.renderSourcesList(this.props.acquirers, this.props.disableLocalFiles)}\n        <div className=\"uppy-Dashboard-AddFiles-info\">\n          {this.props.note && <div className=\"uppy-Dashboard-note\">{this.props.note}</div>}\n          {this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy(this.props)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AddFiles\n"],"mappings":"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"}