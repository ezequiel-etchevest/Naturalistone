{"version":3,"names":["h","Fragment","prettierBytes","truncateString","MetaErrorMessage","renderFileName","props","author","name","file","meta","getMaxNameLength","isSingleFile","containerHeight","containerWidth","className","title","renderAuthor","providerName","remote","dot","href","url","target","rel","renderFileSize","size","ReSelectButton","isGhost","type","onClick","toggleAddFilesPanel","i18n","ErrorButton","_ref","error","FileInfo","source","alert","toggleFileCard","metaFields"],"sources":["index.jsx"],"sourcesContent":["import {  h, Fragment  } from 'preact'\nimport prettierBytes from '@transloadit/prettier-bytes'\nimport truncateString from '@uppy/utils/lib/truncateString'\nimport MetaErrorMessage from '../MetaErrorMessage.jsx'\n\nconst renderFileName = (props) => {\n  const { author, name } = props.file.meta\n\n  function getMaxNameLength () {\n    if (props.isSingleFile && props.containerHeight >= 350) {\n      return 90\n    }\n    if (props.containerWidth <= 352) {\n      return 35\n    }\n    if (props.containerWidth <= 576) {\n      return 60\n    }\n    // When `author` is present, we want to make sure\n    // the file name fits on one line so we can place\n    // the author on the second line.\n    return author ? 20 : 30\n  }\n\n  return (\n    <div className=\"uppy-Dashboard-Item-name\" title={name}>\n      {truncateString(name, getMaxNameLength())}\n    </div>\n  )\n}\n\nconst renderAuthor = (props) => {\n  const { author } = props.file.meta\n  const { providerName } = props.file.remote\n  const dot = `\\u00B7`\n\n  if (!author) {\n    return null\n  }\n\n  return (\n    <div className=\"uppy-Dashboard-Item-author\">\n      <a\n        href={`${author.url}?utm_source=Companion&utm_medium=referral`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {truncateString(author.name, 13)}\n      </a>\n      {providerName ? (\n        <Fragment>\n          {` ${dot} `}\n          {providerName}\n          {` ${dot} `}\n        </Fragment>\n      ) : null}\n    </div>\n  )\n}\n\nconst renderFileSize = (props) => props.file.size && (\n  <div className=\"uppy-Dashboard-Item-statusSize\">\n    {prettierBytes(props.file.size)}\n  </div>\n)\n\nconst ReSelectButton = (props) => props.file.isGhost && (\n  <span>\n    {' \\u2022 '}\n    <button\n      className=\"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect\"\n      type=\"button\"\n      onClick={props.toggleAddFilesPanel}\n    >\n      {props.i18n('reSelect')}\n    </button>\n  </span>\n)\n\nconst ErrorButton = ({ file, onClick }) => {\n  if (file.error) {\n    return (\n      <button\n        className=\"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails\"\n        aria-label={file.error}\n        data-microtip-position=\"bottom\"\n        data-microtip-size=\"medium\"\n        onClick={onClick}\n        type=\"button\"\n      >\n        ?\n      </button>\n    )\n  }\n  return null\n}\n\nexport default function FileInfo (props) {\n  const { file } = props\n  return (\n    <div\n      className=\"uppy-Dashboard-Item-fileInfo\"\n      data-uppy-file-source={file.source}\n    >\n      <div className=\"uppy-Dashboard-Item-fileName\">\n        {renderFileName(props)}\n        <ErrorButton\n          file={props.file}\n          // eslint-disable-next-line no-alert\n          onClick={() => alert(props.file.error)} // TODO: move to a custom alert implementation\n        />\n      </div>\n      <div className=\"uppy-Dashboard-Item-status\">\n        {renderAuthor(props)}\n        {renderFileSize(props)}\n        {ReSelectButton(props)}\n      </div>\n      <MetaErrorMessage\n        file={props.file}\n        i18n={props.i18n}\n        toggleFileCard={props.toggleFileCard}\n        metaFields={props.metaFields}\n      />\n    </div>\n  )\n}\n"],"mappings":"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"}