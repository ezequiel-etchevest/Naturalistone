{"version":3,"names":["packageJson","_callbacks","_classPrivateFieldLooseKey","_publish","DefaultStore","constructor","Object","defineProperty","value","_publish2","writable","Set","state","getState","setState","patch","prevState","nextState","_classPrivateFieldLooseBase","subscribe","listener","add","delete","_len","arguments","length","args","Array","_key","forEach","VERSION","version"],"sources":["index.js"],"sourcesContent":["import packageJson from '../package.json'\n/**\n * Default store that keeps state in a simple object.\n */\nclass DefaultStore {\n  static VERSION = packageJson.version\n\n  #callbacks = new Set()\n\n  constructor () {\n    this.state = {}\n  }\n\n  getState () {\n    return this.state\n  }\n\n  setState (patch) {\n    const prevState = { ...this.state }\n    const nextState = { ...this.state, ...patch }\n\n    this.state = nextState\n    this.#publish(prevState, nextState, patch)\n  }\n\n  subscribe (listener) {\n    this.#callbacks.add(listener)\n    return () => {\n      this.#callbacks.delete(listener)\n    }\n  }\n\n  #publish (...args) {\n    this.#callbacks.forEach((listener) => {\n      listener(...args)\n    })\n  }\n}\n\nexport default DefaultStore\n"],"mappings":";;;MAAOA,WAAW;EAAA;AAAA;AAClB;AACA;AACA;AAFA,IAAAC,UAAA,gBAAAC,0BAAA;AAAA,IAAAC,QAAA,gBAAAD,0BAAA;AAGA,MAAME,YAAY,CAAC;EAKjBC,WAAWA,CAAA,EAAI;IAAAC,MAAA,CAAAC,cAAA,OAAAJ,QAAA;MAAAK,KAAA,EAAAC;IAAA;IAAAH,MAAA,CAAAC,cAAA,OAAAN,UAAA;MAAAS,QAAA;MAAAF,KAAA,EAFF,IAAIG,GAAG,CAAC;IAAC;IAGpB,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC;EACjB;EAEAC,QAAQA,CAAA,EAAI;IACV,OAAO,IAAI,CAACD,KAAK;EACnB;EAEAE,QAAQA,CAAEC,KAAK,EAAE;IACf,MAAMC,SAAS,GAAG;MAAE,GAAG,IAAI,CAACJ;IAAM,CAAC;IACnC,MAAMK,SAAS,GAAG;MAAE,GAAG,IAAI,CAACL,KAAK;MAAE,GAAGG;IAAM,CAAC;IAE7C,IAAI,CAACH,KAAK,GAAGK,SAAS;IACtBC,2BAAA,KAAI,EAAAf,QAAA,EAAAA,QAAA,EAAUa,SAAS,EAAEC,SAAS,EAAEF,KAAK;EAC3C;EAEAI,SAASA,CAAEC,QAAQ,EAAE;IACnBF,2BAAA,KAAI,EAAAjB,UAAA,EAAAA,UAAA,EAAYoB,GAAG,CAACD,QAAQ,CAAC;IAC7B,OAAO,MAAM;MACXF,2BAAA,KAAI,EAAAjB,UAAA,EAAAA,UAAA,EAAYqB,MAAM,CAACF,QAAQ,CAAC;IAClC,CAAC;EACH;AAOF;AAAC,SAAAX,UAAA,EALoB;EAAA,SAAAc,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAANC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;IAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;EAAA;EACfV,2BAAA,KAAI,EAAAjB,UAAA,EAAAA,UAAA,EAAY4B,OAAO,CAAET,QAAQ,IAAK;IACpCA,QAAQ,CAAC,GAAGM,IAAI,CAAC;EACnB,CAAC,CAAC;AACJ;AAhCItB,YAAY,CACT0B,OAAO,GAAG9B,WAAW,CAAC+B,OAAO;AAkCtC,eAAe3B,YAAY"}