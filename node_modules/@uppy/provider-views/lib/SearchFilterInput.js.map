{"version":3,"names":["h","Fragment","useEffect","useState","useCallback","nanoid","SearchFilterInput","props","search","searchOnInput","searchTerm","showButton","inputLabel","clearSearchLabel","buttonLabel","clearSearch","inputClassName","buttonCSSClassName","searchText","setSearchText","validateAndSearch","ev","preventDefault","handleInput","inputValue","target","value","handleReset","form","formEl","document","createElement","setAttribute","id","body","appendChild","addEventListener","removeEventListener","removeChild","className","type","placeholder","onInput","focusable","class","width","height","viewBox","d","title","onClick"],"sources":["SearchFilterInput.jsx"],"sourcesContent":["import { h, Fragment } from 'preact'\nimport { useEffect, useState, useCallback } from 'preact/hooks'\nimport { nanoid } from 'nanoid/non-secure'\n// import debounce from 'lodash.debounce'\n\nexport default function SearchFilterInput (props) {\n  const {\n    search,\n    searchOnInput,\n    searchTerm,\n    showButton,\n    inputLabel,\n    clearSearchLabel,\n    buttonLabel,\n    clearSearch,\n    inputClassName,\n    buttonCSSClassName,\n  } = props\n  const [searchText, setSearchText] = useState(searchTerm ?? '')\n  // const debouncedSearch = debounce((q) => search(q), 1000)\n\n  const validateAndSearch = useCallback((ev) => {\n    ev.preventDefault()\n    search(searchText)\n  }, [search, searchText])\n\n  const handleInput = useCallback((ev) => {\n    const inputValue = ev.target.value\n    setSearchText(inputValue)\n    if (searchOnInput) search(inputValue)\n  }, [setSearchText, searchOnInput, search])\n\n  const handleReset = () => {\n    setSearchText('')\n    if (clearSearch) clearSearch()\n  }\n\n  const [form] = useState(() => {\n    const formEl = document.createElement('form')\n    formEl.setAttribute('tabindex', '-1')\n    formEl.id = nanoid()\n    return formEl\n  })\n\n  useEffect(() => {\n    document.body.appendChild(form)\n    form.addEventListener('submit', validateAndSearch)\n    return () => {\n      form.removeEventListener('submit', validateAndSearch)\n      document.body.removeChild(form)\n    }\n  }, [form, validateAndSearch])\n\n  return (\n    <Fragment>\n      <input\n        className={`uppy-u-reset ${inputClassName}`}\n        type=\"search\"\n        aria-label={inputLabel}\n        placeholder={inputLabel}\n        value={searchText}\n        onInput={handleInput}\n        form={form.id}\n        data-uppy-super-focusable\n      />\n      {\n        !showButton && (\n          <svg aria-hidden=\"true\" focusable=\"false\" class=\"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\">\n            <path d=\"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z\" />\n          </svg>\n        )\n      }\n      {\n        !showButton && searchText && (\n          <button\n            className=\"uppy-u-reset uppy-ProviderBrowser-searchFilterReset\"\n            type=\"button\"\n            aria-label={clearSearchLabel}\n            title={clearSearchLabel}\n            onClick={handleReset}\n          >\n            <svg aria-hidden=\"true\" focusable=\"false\" className=\"uppy-c-icon\" viewBox=\"0 0 19 19\">\n              <path d=\"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z\" />\n            </svg>\n          </button>\n        )\n      }\n      {\n        showButton && (\n          <button\n            className={`uppy-u-reset uppy-c-btn uppy-c-btn-primary ${buttonCSSClassName}`}\n            type=\"submit\"\n            form={form.id}\n          >\n            {buttonLabel}\n          </button>\n        )\n      }\n    </Fragment>\n  )\n}\n"],"mappings":"AAAA,SAASA,CAAC,EAAEC,QAAQ,QAAQ,QAAQ;AACpC,SAASC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,cAAc;AAC/D,SAASC,MAAM,QAAQ,mBAAmB;AAC1C;;AAEA,eAAe,SAASC,iBAAiBA,CAAEC,KAAK,EAAE;EAChD,MAAM;IACJC,MAAM;IACNC,aAAa;IACbC,UAAU;IACVC,UAAU;IACVC,UAAU;IACVC,gBAAgB;IAChBC,WAAW;IACXC,WAAW;IACXC,cAAc;IACdC;EACF,CAAC,GAAGV,KAAK;EACT,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAACO,UAAU,WAAVA,UAAU,GAAI,EAAE,CAAC;EAC9D;;EAEA,MAAMU,iBAAiB,GAAGhB,WAAW,CAAEiB,EAAE,IAAK;IAC5CA,EAAE,CAACC,cAAc,CAAC,CAAC;IACnBd,MAAM,CAACU,UAAU,CAAC;EACpB,CAAC,EAAE,CAACV,MAAM,EAAEU,UAAU,CAAC,CAAC;EAExB,MAAMK,WAAW,GAAGnB,WAAW,CAAEiB,EAAE,IAAK;IACtC,MAAMG,UAAU,GAAGH,EAAE,CAACI,MAAM,CAACC,KAAK;IAClCP,aAAa,CAACK,UAAU,CAAC;IACzB,IAAIf,aAAa,EAAED,MAAM,CAACgB,UAAU,CAAC;EACvC,CAAC,EAAE,CAACL,aAAa,EAAEV,aAAa,EAAED,MAAM,CAAC,CAAC;EAE1C,MAAMmB,WAAW,GAAGA,CAAA,KAAM;IACxBR,aAAa,CAAC,EAAE,CAAC;IACjB,IAAIJ,WAAW,EAAEA,WAAW,CAAC,CAAC;EAChC,CAAC;EAED,MAAM,CAACa,IAAI,CAAC,GAAGzB,QAAQ,CAAC,MAAM;IAC5B,MAAM0B,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IAC7CF,MAAM,CAACG,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;IACrCH,MAAM,CAACI,EAAE,GAAG5B,MAAM,CAAC,CAAC;IACpB,OAAOwB,MAAM;EACf,CAAC,CAAC;EAEF3B,SAAS,CAAC,MAAM;IACd4B,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;IAC/BA,IAAI,CAACQ,gBAAgB,CAAC,QAAQ,EAAEhB,iBAAiB,CAAC;IAClD,OAAO,MAAM;MACXQ,IAAI,CAACS,mBAAmB,CAAC,QAAQ,EAAEjB,iBAAiB,CAAC;MACrDU,QAAQ,CAACI,IAAI,CAACI,WAAW,CAACV,IAAI,CAAC;IACjC,CAAC;EACH,CAAC,EAAE,CAACA,IAAI,EAAER,iBAAiB,CAAC,CAAC;EAE7B,OACEpB,CAAA,CAACC,QAAQ,QACPD,CAAA;IACEuC,SAAS,EAAG,gBAAevB,cAAe,EAAE;IAC5CwB,IAAI,EAAC,QAAQ;IACb,cAAY5B,UAAW;IACvB6B,WAAW,EAAE7B,UAAW;IACxBc,KAAK,EAAER,UAAW;IAClBwB,OAAO,EAAEnB,WAAY;IACrBK,IAAI,EAAEA,IAAI,CAACK,EAAG;IACd;EAAyB,CAC1B,CAAC,EAEA,CAACtB,UAAU,IACTX,CAAA;IAAK,eAAY,MAAM;IAAC2C,SAAS,EAAC,OAAO;IAACC,KAAK,EAAC,mDAAmD;IAACC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC;EAAW,GAC5I/C,CAAA;IAAMgD,CAAC,EAAC;EAA0U,CAAE,CACjV,CACN,EAGD,CAACrC,UAAU,IAAIO,UAAU,IACvBlB,CAAA;IACEuC,SAAS,EAAC,qDAAqD;IAC/DC,IAAI,EAAC,QAAQ;IACb,cAAY3B,gBAAiB;IAC7BoC,KAAK,EAAEpC,gBAAiB;IACxBqC,OAAO,EAAEvB;EAAY,GAErB3B,CAAA;IAAK,eAAY,MAAM;IAAC2C,SAAS,EAAC,OAAO;IAACJ,SAAS,EAAC,aAAa;IAACQ,OAAO,EAAC;EAAW,GACnF/C,CAAA;IAAMgD,CAAC,EAAC;EAA2e,CAAE,CAClf,CACC,CACT,EAGDrC,UAAU,IACRX,CAAA;IACEuC,SAAS,EAAG,8CAA6CtB,kBAAmB,EAAE;IAC9EuB,IAAI,EAAC,QAAQ;IACbZ,IAAI,EAAEA,IAAI,CAACK;EAAG,GAEbnB,WACK,CAGJ,CAAC;AAEf"}